{% extends "base.html" %}

{% block content %}

<br><br>

<h1>Summary Rating Search</h1>

<form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <p>
      {{ form.identifier.label }}<br/>
      {{ form.identifier(size=32) }}<br/>
      {% for error in form.identifier.errors %}
      <span style="color: red;">[{{ error }}]</span>
      <br/>
      {% endfor %}
      {{ form.requested_type.label }}<br/>
      {{ form.requested_type(size=1) }}<br/>
      {% for error in form.requested_type.errors %}
      <span style="color: red;">[{{ error }}]</span>
      <br/>
      {% endfor %}
    </p>
    <p>
      {{ form.submit() }}
    </p>
  </form>

<h2>Summary Rating:</h2>
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Total Number of Reviews</th>
      <th scope="col">Average Number of Stars</th>
    </tr>
  </thead>
  <tbody>
    {% if summary_rating %}
    {% for rating in summary_rating%}
      <tr>
        <th>{{rating.count}}</th>
        <th>{{rating.average_rating}}</th>
      </tr>
    {% endfor %}
    {% endif %}
  </tbody>
</table>

{% endblock %}